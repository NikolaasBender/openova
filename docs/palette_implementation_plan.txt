Implementation Plan: Command Palette & Quick Open

1. Overview
   The goal is to implement a VS Code-like Command Palette (Ctrl+Shift+P) and Quick Open (Ctrl+P) feature.
   This involves a new UI overlay component, managing state for its visibility and mode, and integrating with the backend for file searching.

2. Components
   2.1. Palette Component (New)
        - Location: `src/renderer/components/Palette.tsx`
        - Description: A modal overlay centered at the top of the window.
        - Props:
          - `isOpen`: boolean
          - `mode`: 'commands' | 'files'
          - `onClose`: function
          - `onSelect`: function (returns selected item ID or path)
        - Internal State:
          - `query`: string (search input)
          - `selectedIndex`: number (for keyboard navigation)
          - `items`: Array (filtered list of commands or files)

3. State Management (App.tsx)
   - Add state: `isPaletteOpen`, `paletteMode`.
   - Update `KeybindingService` listeners to set these states instead of just logging.
   - Implement data sources:
     - Commands: Static list of available actions (e.g., "Toggle Sidebar", "Toggle Terminal", "Save File").
     - Files: Dynamic list fetched from the backend.

4. Backend Integration (Electron)
   - Need a way to search/list files for Quick Open.
   - Update `preload.ts` and `main.ts` to expose `findFiles(query)` or `getAllFiles(rootPath)`.
   - For an MVP, `getAllFiles` (recursive readdir) is sufficient.

5. Verification
   - Test `Ctrl+Shift+P`: Should show command list. Filtering "Sidebar" should show "Toggle Sidebar".
   - Test `Ctrl+P`: Should show file list. Selecting a file should open it in a tab.
   - Test `Esc`: Should close the palette.
   - Test `Up/Down` arrows: Should navigate the list.
   - Test `Enter`: Should execute command or open file.

6. Unit Tests
   - Palette Component:
     - Render with `isOpen=true` and check visibility.
     - Render with `mode='commands'` and check if command list is displayed.
     - Render with `mode='files'` and check if file list is displayed.
     - Test filtering: Input text and verify list updates.
     - Test Keyboard Navigation: Simulate ArrowDown/ArrowUp and check active item.
   - App Integration (if possible, or e2e):
     - Check invalid file path handling.
